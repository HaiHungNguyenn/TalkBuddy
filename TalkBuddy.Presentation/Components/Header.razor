@inject IHttpContextAccessor HttpContextAccessor

@using TalkBuddy.Common.Constants
<div class="w-100 d-flex justify-content-between align-items-center py-3 px-5" style="background-color: #5e73e2;">
    @*<form method="post" class="search-form">
        <input type="text" placeholder="Type to search..." />
        <button type="submit" class="search-btn">
            <i class="fa-solid fa-magnifying-glass search-icon"></i>
        </button>
    </form>*@
    <div></div>
    <div class="d-flex justify-content-between align-items-center gap-4">
        <div class="notification-container">
            <i onclick="showNotification()" class="fa-solid fa-bell add-icon text-white bell-icon"></i>
            <div id="notification" class="notification-box">
            </div>
            <span id="unreadCount" class="badge bg-danger" style="transform: translateX(-31px) translateY(9px);
                                                                      border-radius: 25px;"></span>
        </div>
        <div class="position-relative">
            <img class="rounded-circle" id="user-avatar" style="cursor: pointer;" width="40" height="40" src="/default-avatar.png" alt="User avatar"/>
            <div class="position-absolute p-3 logout-container" id="logout-container">
                <p>@HttpContextAccessor.HttpContext!.Session.GetString(SessionConstants.USER_NAME)</p>
                <div class="w-100 text-center fw-bold">
                    <button type="submit" id="btn-logout" class="btn btn-primary text-center">Log out</button>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    .bell-icon{
        margin-right: 20px;
    }
    .notification-container {
        position: relative;
        display: inline-block; /* Ensures the container takes only the space needed */
    }
    
    .bell-icon {
        font-size: 24px; /* Adjust the size as needed */
        cursor: pointer;
    }
    
    .notification-box {
        position: absolute;
        top: calc(100% + 10px); /* Adjust the distance between the bell icon and the notification box */
        right: 50%;
        background-color: white;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        display: none;
        width: 500px;
        z-index: 999; /* Ensure the box appears above other content */
        max-height: 200px; /* Set a maximum height */
        overflow-y: auto; /* Enable vertical scrolling if needed */
    }
    
    .notification-box.active {
        display: block;
    }
    .notification-item {
        display: flex; /* Use flexbox to align items horizontally */
        align-items: center; /* Align items vertically in the center */
    }
    
    .avatar {
        margin-right: 10px; /* Add spacing between the avatar and the content */
        border-radius: 50px;
    }
    
    .description,
    .time {
        margin: 0; /* Remove default margins */
    }
    .notification-content  {
        flex-grow: 1; /* Allow the description to grow to fill available space */
        margin-left: 30px;
    }
</style>

@code {
}